import "dotenv/config";
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();
function j(arr) {
    return JSON.stringify(arr);
}
function jObj(arr) {
    return JSON.stringify(arr);
}
function jFaq(arr) {
    return JSON.stringify(arr);
}
async function main() {
    await prisma.lead.deleteMany({});
    await prisma.package.deleteMany({});
    await prisma.program.deleteMany({});
    await prisma.direction.deleteMany({});
    const dirM = await prisma.direction.create({
        data: { name: "Маркетинг", slug: "marketing", orderNum: 0 },
    });
    const dirD = await prisma.direction.create({
        data: { name: "Дизайн", slug: "design", orderNum: 1 },
    });
    const dirA = await prisma.direction.create({
        data: { name: "Аналитика", slug: "analytics", orderNum: 2 },
    });
    // ——— Маркетинг ———
    const p1 = await prisma.program.create({
        data: {
            directionId: dirM.id,
            title: "SMM и таргет: от нуля до первых заявок",
            subtitle: "Запуск рекламы в соцсетях за 8 недель",
            slug: "smm-target",
            tags: j(["SMM", "Таргет", "Маркетинг"]),
            shortDesc: "Научитесь настраивать рекламу ВКонтакте и Telegram, привлекать клиентов и считать окупаемость. Практика на своих проектах.",
            targetAudience: j([
                "Начинающие маркетологи и предприниматели",
                "Специалисты, которые хотят добавить таргет в скиллы",
                "Тем, кто хочет вести рекламу самостоятельно",
            ]),
            outcomes: j([
                "Настроите первую рекламную кампанию и получите заявки",
                "Разберётесь в метриках и сможете оптимизировать бюджет",
                "Соберёте портфолио из реальных кейсов",
            ]),
            structure: jObj([
                { title: "Модуль 1. Основы таргета", content: "Аудитории, креативы, форматы объявлений. Разбор ВК и Telegram Ads." },
                { title: "Модуль 2. Создание воронки", content: "Лендинги, чат-боты, быстрые заявки. Связка рекламы и CRM." },
                { title: "Модуль 3. Аналитика и масштаб", content: "ROAS, CPL, A/B-тесты. Как увеличивать бюджет без потери эффективности." },
                { title: "Модуль 4. Защита дипломного проекта", content: "Запуск кампании под супервизией. Разбор и рекомендации." },
            ]),
            duration: "8 недель",
            format: "Видеоуроки + практические задания + еженедельные созвоны",
            level: "Начальный",
            startDate: "Ближайший поток: март 2025",
            faq: jFaq([
                { q: "Нужен ли опыт в рекламе?", a: "Нет. Курс рассчитан на новичков. Важно иметь аккаунты ВК и Telegram и готовность тратить 2–4 часа в неделю." },
                { q: "Будет ли практика на своих проектах?", a: "Да. Вы сможете вести рекламу своего или учебного проекта и разбирать кейс с преподавателем." },
                { q: "Выдаётся ли сертификат?", a: "Да, после защиты итогового проекта." },
            ]),
            orderNum: 0,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p1.id, name: "Стандарт", price: 24900, features: j(["Доступ к урокам", "Практические задания", "Чат участников"]), recommended: false, orderNum: 0 },
            { programId: p1.id, name: "С куратором", price: 39900, features: j(["Всё из тарифа «Стандарт»", "Проверка домашних заданий", "Обратная связь по кампаниям", "Дипломный проект"]), recommended: true, orderNum: 1 },
            { programId: p1.id, name: "VIP", price: 59900, features: j(["Всё из тарифа «С куратором»", "2 персональные консультации", "Разбор вашей ниши и офферов"]), recommended: false, orderNum: 2 },
        ],
    });
    const p2 = await prisma.program.create({
        data: {
            directionId: dirM.id,
            title: "Контент-маркетинг и сторителлинг",
            subtitle: "Как создавать контент, который продаёт",
            slug: "content-storytelling",
            tags: j(["Контент", "Сторителлинг", "Соцсети"]),
            shortDesc: "Системный подход к контенту: от идеи до публикации. Научитесь писать посты и сценарии, которые вовлекают и ведут к заявкам.",
            targetAudience: j([
                "SMM-специалисты и копирайтеры",
                "Предприниматели, которые ведут соцсети сами",
                "Маркетологи, желающие усилить контент-навыки",
            ]),
            outcomes: j([
                "Создадите контент-план и банк идей на 2–3 месяца",
                "Напишете серию постов по своей теме",
                "Освоите форматы: экспертный пост, кейс, сторителлинг",
            ]),
            structure: jObj([
                { title: "Модуль 1. Стратегия контента", content: "Цели, аудитория, форматы. Редакционный календарь и метрики." },
                { title: "Модуль 2. Тексты и сценарии", content: "Структура поста, заголовки, CTA. Разбор форматов под разные платформы." },
                { title: "Модуль 3. Визуал и сторителлинг", content: "Картинки, карусели, короткие видео. Как упаковать историю в контент." },
                { title: "Модуль 4. Контент, который продаёт", content: "Связка контента и воронки. Мягкие продажи и лид-магниты." },
            ]),
            duration: "6 недель",
            format: "Видео + воркшопы в Zoom + задания с проверкой",
            level: "Начальный, средний",
            startDate: "Ближайший поток: апрель 2025",
            faq: jFaq([
                { q: "Подходит ли курс для блогеров?", a: "Да, если хотите систематизировать контент и приблизить его к коммерческим целям." },
                { q: "Нужна ли своя тема/ниша?", a: "Желательно. Практика строится вокруг вашего проекта или вымышленного кейса." },
            ]),
            orderNum: 1,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p2.id, name: "Самостоятельный", price: 19900, features: j(["Доступ к материалам", "Чат", "Шаблоны контент-плана"]), recommended: false, orderNum: 0 },
            { programId: p2.id, name: "С обратной связью", price: 32900, features: j(["Всё из «Самостоятельный»", "Проверка постов", "Разбор контент-плана"]), recommended: true, orderNum: 1 },
        ],
    });
    const p3 = await prisma.program.create({
        data: {
            directionId: dirM.id,
            title: "Email-маркетинг и воронки",
            subtitle: "Письма и автоматизации, которые конвертируют",
            slug: "email-funnels",
            tags: j(["Email", "Воронки", "Автоматизация"]),
            shortDesc: "От цепочки писем до автоматизированной воронки. Сегментация, триггеры и метрики. Работа в популярных сервисах рассылок.",
            targetAudience: j([
                "Маркетологи и владельцы бизнеса",
                "Специалисты по трафику, желающие прокачать удержание",
                "Начинающие в email-маркетинге",
            ]),
            outcomes: j([
                "Соберёте базу и настроите первые цепочки",
                "Построите автоматическую воронку (триггерные письма)",
                "Научитесь считать LTV и конверсии по этапам",
            ]),
            structure: jObj([
                { title: "Модуль 1. Основы email-маркетинга", content: "Сбор базы, сегменты, типы писем. Сервисы: Unisender, SendPulse, GetCourse." },
                { title: "Модуль 2. Цепочки и сценарии", content: "Welcome-цепочка, серия писем после покупки. Копирайтинг писем." },
                { title: "Модуль 3. Автоматизации", content: "Триггеры по действиям. Воронка под вебинар и мини-курс." },
                { title: "Модуль 4. Аналитика и масштаб", content: "Открытия, клики, конверсии. A/B-тесты и доработка воронок." },
            ]),
            duration: "6 недель",
            format: "Онлайн-уроки + практика в сервисах + разборы кейсов",
            level: "Начальный",
            startDate: "Ближайший поток: май 2025",
            faq: jFaq([
                { q: "Какой сервис будем использовать?", a: "Разберём несколько (Unisender, SendPulse). Для диплома можно выбрать любой." },
                { q: "Нужна ли уже база подписчиков?", a: "Нет. Покажем, как собирать базу с нуля и через интеграции." },
            ]),
            orderNum: 2,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p3.id, name: "Базовый", price: 22900, features: j(["Уроки", "Доступ в чат", "Чек-листы"]), recommended: false, orderNum: 0 },
            { programId: p3.id, name: "Практикум", price: 36900, features: j(["Всё из «Базовый»", "Проверка воронок", "Консультация по настройке"]), recommended: true, orderNum: 1 },
        ],
    });
    const p4 = await prisma.program.create({
        data: {
            directionId: dirM.id,
            title: "Маркетинг в Telegram",
            subtitle: "Каналы, боты и монетизация",
            slug: "telegram-marketing",
            tags: j(["Telegram", "Каналы", "Боты"]),
            shortDesc: "Ведение канала, чат-боты для лидов и продаж, реклама у блогеров. Всё, что нужно для продвижения в Telegram.",
            targetAudience: j([
                "Владельцы каналов и комьюнити",
                "Маркетологи, добавляющие Telegram в каналы",
                "Предприниматели в нише digital",
            ]),
            outcomes: j([
                "Оформите канал и контент-стратегию",
                "Настроите бота для заявок или продаж",
                "Запустите рекламу у блогеров и оцените эффективность",
            ]),
            structure: jObj([
                { title: "Модуль 1. Канал как продукт", content: "Позиционирование, контент-план, оформление. Метрики канала." },
                { title: "Модуль 2. Чат-боты", content: "BotFather, сценарии, интеграции. Бот для заявок и мини-продаж." },
                { title: "Модуль 3. Реклама и монетизация", content: "Реклама в каналах, работа с блогерами. Партнёрки и свои продукты." },
            ]),
            duration: "4 недели",
            format: "Видео + практика в своих каналах/ботах",
            level: "Начальный",
            startDate: "По набору",
            faq: jFaq([
                { q: "Нужен ли уже канал?", a: "Желательно, но можно создать в процессе. Будем разбирать и новые каналы." },
            ]),
            orderNum: 3,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p4.id, name: "Участник", price: 17900, features: j(["Уроки", "Чат", "Шаблоны ботов"]), recommended: false, orderNum: 0 },
            { programId: p4.id, name: "С поддержкой", price: 27900, features: j(["Всё из «Участник»", "Разбор канала/бота", "Ответы на вопросы в личке"]), recommended: true, orderNum: 1 },
        ],
    });
    // ——— Дизайн ———
    const p5 = await prisma.program.create({
        data: {
            directionId: dirD.id,
            title: "UI/UX: интерфейсы и прототипы",
            subtitle: "От идеи до макета в Figma",
            slug: "ui-ux-figma",
            tags: j(["UI", "UX", "Figma"]),
            shortDesc: "Основы пользовательского опыта и визуального дизайна интерфейсов. Создание прототипов и макетов в Figma для сайтов и приложений.",
            targetAudience: j([
                "Начинающие дизайнеры",
                "Маркетологи и проджекты, которые делают макеты сами",
                "Переход из смежных специальностей",
            ]),
            outcomes: j([
                "Создадите прототип и макет интерфейса в Figma",
                "Поймёте базовые принципы UX и юзабилити",
                "Соберёте кейс для портфолио",
            ]),
            structure: jObj([
                { title: "Модуль 1. UX-исследование и сценарии", content: "Целевая аудитория, пользовательские сценарии, карта экранов." },
                { title: "Модуль 2. Визуальный язык", content: "Типографика, сетка, цвет. Компоненты и стили в Figma." },
                { title: "Модуль 3. Прототип и интерактивность", content: "Связывание экранов, анимации. Передача макетов в разработку." },
                { title: "Модуль 4. Дипломный проект", content: "Полный цикл: от брифа до макета. Защита и обратная связь." },
            ]),
            duration: "10 недель",
            format: "Видео + еженедельные созвоны + ревью работ",
            level: "Начальный",
            startDate: "Ближайший поток: март 2025",
            faq: jFaq([
                { q: "Нужен ли опыт в дизайне?", a: "Не обязательно. Курс подходит для старта с нуля." },
                { q: "Только Figma или другие инструменты?", a: "Фокус на Figma. Основы применимы к любому инструменту." },
            ]),
            orderNum: 0,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p5.id, name: "Стандарт", price: 34900, features: j(["Уроки", "Домашние задания", "Чат"]), recommended: false, orderNum: 0 },
            { programId: p5.id, name: "С наставником", price: 49900, features: j(["Всё из «Стандарт»", "Ревью работ", "Дипломный проект"]), recommended: true, orderNum: 1 },
            { programId: p5.id, name: "Премиум", price: 69900, features: j(["Всё из «С наставником»", "2 персональные консультации", "Помощь с портфолио"]), recommended: false, orderNum: 2 },
        ],
    });
    const p6 = await prisma.program.create({
        data: {
            directionId: dirD.id,
            title: "Графический дизайн и брендинг",
            subtitle: "Логотипы, фирстиль и визуальная коммуникация",
            slug: "graphic-design-branding",
            tags: j(["Графика", "Брендинг", "Иллюстрация"]),
            shortDesc: "Создание логотипов, фирстиля и визуальных систем. Работа в Illustrator и Figma. От брифа до гайдлайнов.",
            targetAudience: j([
                "Начинающие графические дизайнеры",
                "Специалисты, желающие добавить брендинг в услуги",
                "Предприниматели, делающие визуал сами",
            ]),
            outcomes: j([
                "Сделаете логотип и базовый фирстиль",
                "Соберёте брендбук (или его ключевые разделы)",
                "Научитесь презентовать идеи клиенту",
            ]),
            structure: jObj([
                { title: "Модуль 1. Бриф и концепция", content: "Анализ ниши, позиционирование, мудборды. Варианты концепций." },
                { title: "Модуль 2. Логотип и знак", content: "Типографика, иконка, цвет. Вариации и применение." },
                { title: "Модуль 3. Фирстиль", content: "Носители: визитки, соцсети, мерч. Гайдлайны." },
                { title: "Модуль 4. Презентация и сдача", content: "Подача клиенту. Итоговый кейс для портфолио." },
            ]),
            duration: "8 недель",
            format: "Видео + практика + разборы в Zoom",
            level: "Начальный",
            startDate: "По набору",
            faq: jFaq([
                { q: "В каких программах работаем?", a: "В основном Illustrator и Figma. Базовые вещи можно повторить в других редакторах." },
            ]),
            orderNum: 1,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p6.id, name: "Базовый", price: 27900, features: j(["Уроки", "Чат", "Шаблоны"]), recommended: false, orderNum: 0 },
            { programId: p6.id, name: "Проект с ревью", price: 42900, features: j(["Всё из «Базовый»", "Ревью логотипа и фирстиля", "Сертификат"]), recommended: true, orderNum: 1 },
        ],
    });
    const p7 = await prisma.program.create({
        data: {
            directionId: dirD.id,
            title: "Мotion-дизайн в After Effects",
            subtitle: "Анимация для соцсетей и рекламы",
            slug: "motion-design-ae",
            tags: j(["Motion", "After Effects", "Анимация"]),
            shortDesc: "Базовый motion в After Effects: анимация текста, иконок, простые ролики для сторис и рекламы. Экспорт и интеграция с дизайном.",
            targetAudience: j([
                "Дизайнеры, желающие добавить анимацию",
                "SMM-специалисты",
                "Новички в motion",
            ]),
            outcomes: j([
                "Создадите 3–5 анимированных роликов для портфолио",
                "Освоите базовые приёмы в After Effects",
                "Сможете делать сторис и баннеры с анимацией",
            ]),
            structure: jObj([
                { title: "Модуль 1. Интерфейс и основы", content: "Композиции, слои, ключевые кадры. Импорт из Figma." },
                { title: "Модуль 2. Типографика и графика", content: "Анимация текста, морфинг, маски. Экспорт в GIF и видео." },
                { title: "Модуль 3. Рекламные форматы", content: "Сторисы, баннеры, короткие рекламные вставки." },
            ]),
            duration: "6 недель",
            format: "Видеоуроки + задания + разборы",
            level: "Начальный",
            startDate: "Ближайший поток: апрель 2025",
            faq: jFaq([
                { q: "Нужен ли опыт в AE?", a: "Нет. Курс с нуля. Желательно базовое понимание дизайна." },
            ]),
            orderNum: 2,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p7.id, name: "Участник", price: 24900, features: j(["Уроки", "Чат", "Файлы проектов"]), recommended: false, orderNum: 0 },
            { programId: p7.id, name: "С обратной связью", price: 36900, features: j(["Всё из «Участник»", "Проверка работ", "Разбор вашего ролика"]), recommended: true, orderNum: 1 },
        ],
    });
    // ——— Аналитика ———
    const p8 = await prisma.program.create({
        data: {
            directionId: dirA.id,
            title: "Аналитика для маркетологов",
            subtitle: "Метрики, отчёты и принятие решений",
            slug: "analytics-marketing",
            tags: j(["Аналитика", "Метрики", "Отчёты"]),
            shortDesc: "Сбор данных из рекламы, сайтов и CRM. Визуализация в дашбордах. Как читать цифры и принимать решения по маркетингу.",
            targetAudience: j([
                "Маркетологи и performance-специалисты",
                "Владельцы бизнеса, которые смотрят отчёты",
                "Начинающие аналитики",
            ]),
            outcomes: j([
                "Настроите базовую аналитику (Яндекс.Метрика / GA)",
                "Соберёте дашборд по ключевым метрикам",
                "Научитесь считать CAC, LTV и окупаемость каналов",
            ]),
            structure: jObj([
                { title: "Модуль 1. Источники данных", content: "Яндекс.Метрика, Google Analytics, рекламные кабинеты. Связки и экспорт." },
                { title: "Модуль 2. Ключевые метрики", content: "Трафик, конверсии, воронки. CAC, LTV, ROAS." },
                { title: "Модуль 3. Дашборды и отчёты", content: "Google Data Studio / Looker Studio, Excel. Визуализация для команды и клиента." },
                { title: "Модуль 4. Принятие решений", content: "Как читать отчёты, A/B-тесты, приоритизация гипотез." },
            ]),
            duration: "6 недель",
            format: "Онлайн-уроки + практика в своих проектах",
            level: "Начальный",
            startDate: "Ближайший поток: май 2025",
            faq: jFaq([
                { q: "Нужен ли свой сайт или реклама?", a: "Желательно иметь доступ к какому-то проекту (свой или учебный) для практики." },
            ]),
            orderNum: 0,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p8.id, name: "Стандарт", price: 22900, features: j(["Уроки", "Чат", "Шаблоны отчётов"]), recommended: false, orderNum: 0 },
            { programId: p8.id, name: "Практикум", price: 35900, features: j(["Всё из «Стандарт»", "Проверка дашбордов", "Разбор ваших метрик"]), recommended: true, orderNum: 1 },
        ],
    });
    const p9 = await prisma.program.create({
        data: {
            directionId: dirA.id,
            title: "SQL и основы данных",
            subtitle: "Запросы и отчёты для бизнеса",
            slug: "sql-basics",
            tags: j(["SQL", "Данные", "Отчёты"]),
            shortDesc: "Писать запросы на SQL для выборок и отчётов. Работа с реальными базами и дашбордами. Без программирования — фокус на аналитике.",
            targetAudience: j([
                "Аналитики и маркетологи",
                "Специалисты по данным на старте",
                "Проджекты и менеджеры, работающие с данными",
            ]),
            outcomes: j([
                "Пишете SELECT, JOIN, агрегации и подзапросы",
                "Строите отчёты из базы под типовые задачи",
                "Понимаете структуру данных и таблиц",
            ]),
            structure: jObj([
                { title: "Модуль 1. Основы SQL", content: "Таблицы, SELECT, WHERE, ORDER BY. Практика в тренажёре." },
                { title: "Модуль 2. Агрегации и группы", content: "GROUP BY, COUNT, SUM, AVG. Сводные отчёты." },
                { title: "Модуль 3. Связи таблиц", content: "JOIN, подзапросы. Отчёты из нескольких таблиц." },
                { title: "Модуль 4. Реальные кейсы", content: "Подключение к БД, дашборды. Итоговый проект." },
            ]),
            duration: "5 недель",
            format: "Видео + задания в БД + разборы",
            level: "Начальный",
            startDate: "По набору",
            faq: jFaq([
                { q: "Какой СУБД пользуемся?", a: "Работаем в PostgreSQL (облачная среда). Синтаксис применим и к другим СУБД." },
            ]),
            orderNum: 1,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p9.id, name: "Базовый", price: 19900, features: j(["Уроки", "Доступ к тренажёру", "Чат"]), recommended: false, orderNum: 0 },
            { programId: p9.id, name: "С наставником", price: 31900, features: j(["Всё из «Базовый»", "Проверка запросов", "Итоговый проект"]), recommended: true, orderNum: 1 },
        ],
    });
    const p10 = await prisma.program.create({
        data: {
            directionId: dirA.id,
            title: "Дашборды в Looker Studio",
            subtitle: "Визуализация и отчёты без кода",
            slug: "looker-dashboards",
            tags: j(["Looker Studio", "Дашборды", "Визуализация"]),
            shortDesc: "Подключение источников данных, построение дашбордов и отчётов в Google Looker Studio. Готовые решения для маркетинга и продаж.",
            targetAudience: j([
                "Маркетологи и аналитики",
                "Специалисты, которым нужны регулярные отчёты",
                "Команды без выделенного аналитика",
            ]),
            outcomes: j([
                "Подключите рекламу, Метрику, CRM к Looker Studio",
                "Соберёте 2–3 дашборда под свои задачи",
                "Настроите автоматическую рассылку отчётов",
            ]),
            structure: jObj([
                { title: "Модуль 1. Подключение данных", content: "Google Analytics, Google Ads, Яндекс. Метрика, CSV. Обновление данных." },
                { title: "Модуль 2. Чарты и фильтры", content: "Таблицы, графики, карты. Фильтры и параметры." },
                { title: "Модуль 3. Дашборд под бизнес", content: "Структура отчёта, ключевые метрики. Шаринг и рассылка." },
            ]),
            duration: "4 недели",
            format: "Видео + практика в своём аккаунте",
            level: "Начальный",
            startDate: "Ближайший поток: апрель 2025",
            faq: jFaq([
                { q: "Нужен ли доступ к рекламе/Метрике?", a: "Да, для полноценной практики нужен хотя бы один источник (например, Google Analytics или реклама)." },
            ]),
            orderNum: 2,
        },
    });
    await prisma.package.createMany({
        data: [
            { programId: p10.id, name: "Участник", price: 15900, features: j(["Уроки", "Чат", "Шаблоны дашбордов"]), recommended: false, orderNum: 0 },
            { programId: p10.id, name: "С разбором", price: 24900, features: j(["Всё из «Участник»", "Разбор вашего дашборда", "Рекомендации по метрикам"]), recommended: true, orderNum: 1 },
        ],
    });
    console.log("Seed completed.");
}
main()
    .then(() => prisma.$disconnect())
    .catch((e) => {
    console.error(e);
    prisma.$disconnect();
    process.exit(1);
});
