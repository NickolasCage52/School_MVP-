# Отчёт по тестированию и возможные улучшения

Краткий отчёт после проверки Mini App MVP каталога для онлайн-школы.

---

## Что проверено и работает

- Каталог: загрузка, поиск (debounce), фильтры (направление, уровень, длительность), сортировка, бейдж «Популярное» у первых программ в направлении.
- Страница программы: hero, теги, «Подходит вам, если…», результаты, формат/длительность, «Как проходит обучение», структура (аккордеон), тарифы с выбором, отзывы, преподаватели, FAQ, CTA.
- Форма заявки: 2 шага, префилл из Telegram, маска телефона, черновик в localStorage, валидация, отправка и экран успеха с блоком «Что дальше?».
- Админка: список лидов с пагинацией, фильтры, смена статуса, экспорт CSV, drawer с копированием телефона и ссылкой на Telegram.
- Telegram: тема (light/dark), MainButton/BackButton по экранам, haptic, безопасные отступы (safe-area).

---

## Известные ограничения и баги

1. **Программы без отзывов/преподавателей**  
   В сиде заполнены только первые 3 программы (маркетинг). Остальные программы показывают пустые блоки «Отзывы» и «Преподаватели» — они не рендерятся при пустых массивах. Для продакшена стоит добавить данные в сид или админку для редактирования.

2. **Фильтр «Уровень»**  
   В сиде уровень задаётся строками вроде «Начальный», «Начальный, средний». Фильтр по значению «средний» может не находить программу, если в БД записано «Начальный, средний» с разным регистром. Рекомендуется унифицировать значения уровня (например, отдельные теги или enum) и фильтровать по ним.

3. **Рейтинг «★ 4,8 · 200+ выпускников»**  
   Сейчас захардкожен на странице программы. Имеет смысл вынести в модель (поля `rating`, `graduatesCount`) и отдавать с API.

4. **Сортировка по цене**  
   В каталоге есть опция «По умолчанию» и «По дате старта». Сортировки по цене (мин/макс) нет — при необходимости её можно добавить (минимальная цена по пакетам программы).

5. **Админка: нет редактирования программ**  
   Админка управляет только лидами. Редактирование программ, отзывов и преподавателей — только через сид или БД. Для полноценного контент-менеджмента нужен раздел «Программы» в админке.

6. **Аналитика событий**  
   События отправляются на `POST /api/events` и логируются. Нет интеграции с внешними системами (Яндекс.Метрика, Google Analytics и т.д.) — при необходимости нужно добавить вызовы их API или тегов.

7. **Доступность**  
   Есть базовая поддержка: фокус, кольцо фокуса, размер областей нажатия (min-h-[44px]). Не проверялась полноценная работа со screen reader и навигацией с клавиатуры на всех экранах.

8. **Офлайн**  
   Показ баннера «Проблемы с сетью» при offline реализован; повторная отправка формы после восстановления сети — на усмотрение пользователя (перезаполнение и повторный сабмит).

---

## Рекомендуемые улучшения

| Приоритет | Улучшение |
|-----------|-----------|
| Высокий   | Добавить в сид отзывы и преподавателей для всех программ или вынести контент в админку. |
| Высокий   | Рейтинг и число выпускников хранить в БД и выводить с API. |
| Средний   | Админ-раздел для редактирования программ (описание, модули, отзывы, преподаватели, howItWorks). |
| Средний   | Сортировка каталога по цене (мин/макс). |
| Средний   | Унификация уровней (справочник или теги) и доработка фильтра «Уровень». |
| Низкий    | Интеграция аналитики (Метрика, GA) с событиями lead_start, lead_submit_success и др. |
| Низкий    | Retry отправки заявки при временной ошибке сети без потери данных формы. |

---

## Запуск проверки

- Сборка: `npm run build`
- Линт: `npm run lint`
- Ручной сценарий: см. раздел «E2E smoke» в README.

Если при прогоне обнаружатся новые баги, их стоит добавить в раздел «Известные ограничения и баги» с кратким описанием и шагами воспроизведения.
